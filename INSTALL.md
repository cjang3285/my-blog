# ì„¤ì¹˜ ê°€ì´ë“œ

## í•„ìš”í•œ íŒ¨í‚¤ì§€ ì„¤ì¹˜

### Backend

```bash
cd backend
npm install express-session
```

### í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

`.env` íŒŒì¼ì— ë‹¤ìŒ ë³€ìˆ˜ ì¶”ê°€:

```bash
# Session secret (productionì—ì„œëŠ” ë°˜ë“œì‹œ ë³€ê²½!)
SESSION_SECRET=your-random-secret-key-here

# Admin password
ADMIN_PASSWORD=your-secure-password-here

# Frontend URL (CORS)
FRONTEND_URL=http://localhost:4321
```

**ë³´ì•ˆ ì°¸ê³ ì‚¬í•­:**
- `SESSION_SECRET`: ëœë¤í•œ ê¸´ ë¬¸ìì—´ë¡œ ì„¤ì • (ìµœì†Œ 32ì ì´ìƒ ê¶Œì¥)
- `ADMIN_PASSWORD`: ê°•ë ¥í•œ ë¹„ë°€ë²ˆí˜¸ ì‚¬ìš© (production í™˜ê²½ì—ì„œëŠ” bcrypt ì‚¬ìš© ê¶Œì¥)

### DB ë§ˆì´ê·¸ë ˆì´ì…˜

```bash
psql -U postgres -d my_blog < backend/db/add-kanban-to-projects.sql
```

## ê°œë°œ ì„œë²„ ì‹¤í–‰

```bash
# Backend
cd backend
npm start

# Frontend
cd frontend
npm run dev
```

## Production ë°°í¬

### PM2 ì¬ì‹œì‘

```bash
cd backend
pm2 restart ecosystem.config.cjs
```

### ë¡œê·¸ì¸

ë¸Œë¼ìš°ì €ì—ì„œ `/admin/login`ìœ¼ë¡œ ì´ë™í•˜ì—¬ ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ ì…ë ¥

## ì¸ì¦ ì‹œìŠ¤í…œ ê°œìš”

- **ê´€ë¦¬ì ì „ìš© ê¸°ëŠ¥**: ê¸€/í”„ë¡œì íŠ¸ ì¶”ê°€, ìˆ˜ì •, ì‚­ì œ
- **ê³µê°œ ê¸°ëŠ¥**: ëª¨ë“  ì½˜í…ì¸  ì¡°íšŒ
- **ì„¸ì…˜ ê¸°ë°˜ ì¸ì¦**: 7ì¼ê°„ ìœ ì§€
- **ë¡œê·¸ì¸ í˜ì´ì§€**: `/admin/login`

### ìë™ ì¸ì¦ (Auto-authentication)

**localhostì—ì„œë§Œ ìë™ ê´€ë¦¬ì ì¸ì¦**:
- ì„œë²„ì— ì§ì ‘ ì ‘ì† ì‹œ (`http://localhost:4321`)
- ë¡œê·¸ì¸ ì—†ì´ ìë™ìœ¼ë¡œ ê´€ë¦¬ì ê¶Œí•œ ë¶€ì—¬

**ì™¸ë¶€/ì›ê²© ì ‘ì† ì‹œ**:
- ë¡œê·¸ì¸ í•„ìš” (í•œ ë²ˆ ë¡œê·¸ì¸ ì‹œ 7ì¼ê°„ ì„¸ì…˜ ìœ ì§€)
- ë¸Œë¼ìš°ì €ë¥¼ ë‹«ì•„ë„ ë¡œê·¸ì¸ ìƒíƒœ ìœ ì§€ë¨

## ë„¤íŠ¸ì›Œí¬ ì ‘ì† ì‹œë‚˜ë¦¬ì˜¤

### 1. ì„œë²„ ë‚´ë¶€ì—ì„œ ì ‘ì† (ìë™ ì¸ì¦)
```
http://localhost:4321
```
- âœ… ìë™ ê´€ë¦¬ì ì¸ì¦
- ë¡œê·¸ì¸ ë¶ˆí•„ìš”

### 2. ê°™ì€ ë„¤íŠ¸ì›Œí¬ ë‚´ì—ì„œ ì ‘ì† (ë¡œê·¸ì¸ í•„ìš”)
```
http://172.30.1.95:4321
```
- ğŸ” ì²« ì ‘ì† ì‹œ ë¡œê·¸ì¸ í•„ìš” (`/admin/login`)
- ì´í›„ 7ì¼ê°„ ì„¸ì…˜ ìœ ì§€

### 3. ì™¸ë¶€ ë„¤íŠ¸ì›Œí¬ì—ì„œ ì ‘ì† (nginx ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ)
```
https://183.101.163.146
```
- ğŸ” ì²« ì ‘ì† ì‹œ ë¡œê·¸ì¸ í•„ìš” (`/admin/login`)
- ì´í›„ 7ì¼ê°„ ì„¸ì…˜ ìœ ì§€
- **ê¶Œì¥**: ì™¸ë¶€ì—ì„œëŠ” í•­ìƒ nginx ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ì‚¬ìš© (HTTPS)
- ë‚´ë¶€ IP:4321 ì§ì ‘ ì ‘ì† ëŒ€ì‹  nginxë¥¼ í†µí•´ ì•ˆì „í•˜ê²Œ ì ‘ì†

### ì„¸ì…˜ ì¿ í‚¤ ì£¼ì˜ì‚¬í•­

ì ‘ì† ë°©ë²•ì— ë”°ë¼ ë³„ë„ì˜ ì„¸ì…˜ì´ ìƒì„±ë©ë‹ˆë‹¤:
- `http://172.30.1.95:4321`ë¡œ ë¡œê·¸ì¸ â†’ ì´ ë„ë©”ì¸ì—ì„œë§Œ ìœ íš¨
- `https://183.101.163.146`ë¡œ ë¡œê·¸ì¸ â†’ ì´ ë„ë©”ì¸ì—ì„œë§Œ ìœ íš¨

**ê¶Œì¥ ì‚¬ìš© íŒ¨í„´**:
- **ì§‘/ì‚¬ë¬´ì‹¤**: `http://172.30.1.95:4321` ì‚¬ìš©
- **ì™¸ë¶€ ë„¤íŠ¸ì›Œí¬**: `https://183.101.163.146` (nginx) ì‚¬ìš©
- í•œ ê°€ì§€ ì ‘ì† ë°©ë²•ìœ¼ë¡œ í†µì¼í•˜ë©´ ë¡œê·¸ì¸ íšŸìˆ˜ ìµœì†Œí™”

## ì¶”ê°€ ì‹ ë¢° IP ì„¤ì • (ì„ íƒì‚¬í•­)

íŠ¹ì • IPë¥¼ ì‹ ë¢°í•˜ê³  ìë™ ì¸ì¦í•˜ë ¤ë©´:

```bash
# backend/.env
TRUSTED_IPS=your-static-ip-1,your-static-ip-2
```
