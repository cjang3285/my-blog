---
export const prerender = false;

import Layout from '../layouts/Layout.astro';

// SSR에서는 백엔드 URL 필요
const API_URL = import.meta.env.PUBLIC_API_URL || '';
const res = await fetch(`${API_URL}/api/releases`);
const releases: string[] = await res.json();
---

<Layout title="Releases - 장찬욱" description="릴리스 파일 목록">
  <h1 class="text-2xl font-semibold text-warm-100 mb-8 tracking-tight">Releases</h1>

  <div class="p-5 rounded-lg border border-warm-800/50 bg-warm-900/30">
    <ul class="space-y-3">
      {releases.map(file => (
        <li>
          <a
            href={`${API_URL}/api/releases/download/${file}`}
            class="text-sm text-warm-300 hover:text-accent transition-colors duration-300"
          >
            {file}
          </a>
        </li>
      ))}
    </ul>
  </div>
</Layout>
