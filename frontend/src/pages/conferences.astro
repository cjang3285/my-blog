---
export const prerender = false;

import Layout from '../layouts/Layout.astro';

// SSR에서는 백엔드 URL 필요
const API_URL = import.meta.env.PUBLIC_API_URL || '';
const res = await fetch(`${API_URL}/api/conferences`);
const conferences : { id: number; name: string; url: string }[] = await res.json();
---

<Layout title="Conferences - 장찬욱" description="컨퍼런스 목록">
  <h1 class="text-2xl font-semibold text-warm-100 mb-8 tracking-tight">Conferences</h1>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
    {conferences.map(c => (
      <div class="p-5 rounded-lg border border-warm-800/50 bg-warm-900/30">
        <h2 class="font-medium text-warm-100 mb-2">{c.name}</h2>
        <a
          href={c.url}
          class="text-sm text-warm-500 hover:text-accent transition-colors duration-300"
        >
          Visit
        </a>
      </div>
    ))}
  </div>
</Layout>
